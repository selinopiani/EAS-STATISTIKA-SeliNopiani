<html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>R egresi Linear App</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", sans-serif;
      background: #f1f5f9;
    }

    /* Header */
    .app-header {
      background: linear-gradient(135deg, #31b9e2, #f9fbfa);
      color: #021a36;
      padding: 20px;
      text-align: center;
      font-size: 19px;
      font-weight: bolder;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
    }

    /* App Container */
    .app {
      max-width: 420px;
      margin: 30px auto;
      padding: 15px;
    }

    /* Card */
    .card {
      background: #fbf9f9;
      border-radius: 15px;
      padding: 17px;
      margin-bottom: 15px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
    }

    .card-title {
      font-weight: bold;
      margin-bottom: 11px;
      color: #0f172a;
    }

    label {
      font-size: 12px;
      font-weight: 600;
      color: #334155;
    }

    textarea,
    input {
      width: 100%;
      padding: 9px;
      margin-top: 7px;
      margin-bottom: 13px;
      border-radius: 10px;
      border: 1px solid #cbd5e1;
      font-size: 14px;
      box-sizing: border-box;
    }

    button {
      width: 100%;
      padding: 14px;
      border: none;
      border-radius: 13px;
      background: linear-gradient(135deg, #6db5d8, #1764e8);
      color: #ffffff;
      font-size: 15px;
      font-weight: bold;
      cursor: pointer;
    }

    button:hover {
      opacity: 0.9;
    }

    /* Result */
    .result {
      background: #ecfdf5;
      border-left: 6px solid #22c55e;
      padding: 14px;
      border-radius: 12px;
      color: #34c9a1;
    }

    .formula {
      font-size: 16px;
      font-weight: bold;
      margin: 8px 0;
    }

    .prediction {
      font-size: 20px;
      font-weight: bold;
      margin-top: 6px;
    }

    .error {
      background: #fee2e2;
      border-left: 6px solid #dc2626;
      color: #7f1d1d;
    }

    .footer {
      text-align: center;
      font-size: 15px;
      color: #64748b;
      margin-top: 15px;
    }
  </style>
</head>

<body>

  <div class="app-header">
    üìä Analisis Regresi Linear Sederhana
  </div>

  <div class="app">

    <!-- Input Card -->
    <div class="card">
      <div class="card-title">Input Data</div>

      <label>Masukan Data X (Pisahkan Dengan Koma)</label>
      <textarea id="xData" placeholder="Contoh: 2,4,6,8"></textarea>

      <label>Masukan Data Y (Pisahkan Dengan Koma)</label>
      <textarea id="yData" placeholder="Contoh: 60,70,75,85"></textarea>

      <label>Nilai X yang akan diprediksi</label>
      <input type="number" id="xPred" placeholder="Contoh: 5">

      <button onclick="hitungRegresi()">Hasil Hitung Regresi</button>
    </div>

    <!-- Result -->
    <div id="hasil"></div>

    <div class="footer">
      Rumus Menghitung Linear :
    </div>
 <div class="footer">
       Y = a + bX
    </div>

  </div>

  <script>
    function hitungRegresi() {
      const x = document.getElementById("xData").value.split(",").map(Number);
      const y = document.getElementById("yData").value.split(",").map(Number);
      const xPred = parseFloat(document.getElementById("xPred").value);
      const hasil = document.getElementById("hasil");

      // Validasi data
      if (
        x.length !== y.length ||
        x.length < 2 ||
        x.some(isNaN) ||
        y.some(isNaN) ||
        isNaN(xPred)
      ) {
        hasil.innerHTML = `
          <div class="card error">
      ‚ùå Data tidak valid. Pastikan:
      <br>‚Ä¢ Jumlah X dan Y sama
      <br>‚Ä¢ Semua data berupa angka
      <br>‚Ä¢ Tidak ada koma di akhir
    </div>`;
    return;
      }

      const n = x.length;
      const sumX = x.reduce((a, b) => a + b, 0);
      const sumY = y.reduce((a, b) => a + b, 0);
      const sumXY = x.reduce((a, b, i) => a + b * y[i], 0);
      const sumX2 = x.reduce((a, b) => a + b * b, 0);

      const b =
        (n * sumXY - sumX * sumY) /
        (n * sumX2 - sumX * sumX);

      const a = (sumY - b * sumX) / n;
      const yPred = a + b * xPred;

      hasil.innerHTML = `
        <div class="card result">
          <div> üìå Persamaan Regresi</div>
          <div class="formula">Y = ${a.toFixed(2)} + ${b.toFixed(2)}X</div>
          <hr>
          <div> üîÆ Prediksi Y untuk X = ${xPred}</div>
          <div class="prediction">Adalah ${yPred.toFixed(2)}</div>
        </div>`;
    }
  </script>

</body>
</html>